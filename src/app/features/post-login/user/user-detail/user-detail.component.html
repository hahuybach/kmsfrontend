<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/solid.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<div class="m-3">
  <h2>Chi tiết người dùng</h2>
</div>
<div class="row">
  <div class="m-1 col-md-5" *ngIf="user">
    <div class="mb-4">
      <div class="m-3">
        <p class="text-black-50">Tên hiển thị</p>
      </div>
      <div class="m-3">
        <p class="font-weight-bold">{{user.fullName == null ? "Chưa nhập tên" : user.fullName}}</p>
      </div>
    </div>
    <div class="mb-4">
      <div class="m-3">
        <p class="text-black-50">Email</p>
      </div>
      <div class="m-3">
        <p class="font-weight-bold">{{user.email}}</p>
      </div>
    </div>
    <div class="mb-4">
      <div class="m-3">
        <p class="text-black-50">Số điện thoại</p>
      </div>
      <div class="m-3">
        <p class="font-weight-bold">{{user.phoneNumber == null ? "Chưa nhập số điện thoại" : user.phoneNumber}}</p>
      </div>
    </div>
    <div class="mb-4">
      <div class="m-3">
        <p class="text-black-50">Giới tính</p>
      </div>
      <div class="m-3">
        <p class="font-weight-bold">{{user.gender == "MALE" ? "Nam" : "Nữ"}}</p>
      </div>
    </div>

    <div class="mb-4">
      <div class="m-3">
        <p class="text-black-50">Ngày sinh</p>
      </div>
      <div class="m-3">
        <p class="font-weight-bold">{{user.dob == null ? "Chưa nhập ngày sinh" : user.dob}}</p>
      </div>
    </div>
    <div class="m-3">
      <button class="btn btn-primary"
              (click)="onUpdate()"
            *ngIf="isUpdatable(this.user)"
      >Cập nhật</button>
    </div>


  </div>
  <div class="m-1 col-md-5">
    <div class="mb-4">
      <div class="m-3">
        <p class="text-black-50">Đơn vị</p>
      </div>
      <div class="m-3">
        <p class="font-weight-bold">{{user.school?.schoolName}}
        </p>
      </div>
    </div>
    <div class="mb-4">
      <div class="m-3">
        <p class="text-black-50">Chức vụ</p>
      </div>
      <div class="m-3">
        <p class="font-weight-bold">
          <ng-container  *ngFor="let role of user.accountRoles; let last = last">
            {{ role.role?.roleName }}{{ last ? '' : ';' }}
          </ng-container>
        </p>
      </div>
    </div>
    <div class="mb-4">
      <div class="m-3">
        <p class="text-black-50">Trạng thái</p>
      </div>
      <div class="m-3">
        <span [class]="user.isActive ? 'badge badge-pill badge-success' : 'badge badge-pill badge-danger'">{{ user.isActive ? "Đang hoạt động" : "Ngưng hoạt động" }}</span>
      </div>
    </div>
  </div>
</div>

